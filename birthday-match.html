<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Match - LoveMatch ğŸ’•</title>
<meta name="description" content="Discover birthday compatibility and personality insights!">
<meta property="og:title" content="Birthday Match - LoveMatch ğŸ’•">
<link rel="stylesheet" href="style.css">
    <link rel="canonical" href="https://rorojiao.github.io/lovematch/birthday-match.html">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Birthday Match - LoveMatch ğŸ’•",
        "description": "Discover birthday compatibility and personality insights!",
        "url": "https://rorojiao.github.io/lovematch/birthday-match.html",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "All",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
    }
    </script>
</head>
<body>
<div class="hearts-bg"></div>
<div id="nav"></div>
<div class="container">
<h1 style="text-align:center">Birthday Match</h1>
  <div class="tool-section">
    <h2 data-i18n="birthdayTitle">Birthday Match</h2>
    <label data-i18n="yourBirthday">Your Birthday</label>
    <input type="date" id="bd1">
    <label data-i18n="partnerBirthday">Partner's Birthday</label>
    <input type="date" id="bd2">
    <button class="btn" onclick="analyzeBD()" data-i18n="analyzeBirthday">Analyze Match ğŸ‚</button>
    <div class="result" id="result"></div>
  </div>
  <div id="donate"></div>
</div>
<div id="footer"></div>
<script src="i18n.js"></script>
<script>
document.getElementById('nav').innerHTML = navHTML('birthday');
document.getElementById('donate').innerHTML = donateHTML();
document.getElementById('footer').innerHTML = footerHTML();

const zodiacRanges = [
  [1,20,'Capricorn'],[2,19,'Aquarius'],[3,20,'Pisces'],[4,20,'Aries'],[5,21,'Taurus'],
  [6,21,'Gemini'],[7,22,'Cancer'],[8,23,'Leo'],[9,23,'Virgo'],[10,23,'Libra'],
  [11,22,'Scorpio'],[12,22,'Sagittarius'],[12,31,'Capricorn']
];
function getZodiac(m, d) {
  // Simple zodiac from month/day
  const dates = [[1,20,9],[2,19,10],[3,20,11],[4,20,0],[5,21,1],[6,21,2],[7,22,3],[8,23,4],[9,23,5],[10,23,6],[11,22,7],[12,22,8]];
  for (const [mo,da,idx] of dates) {
    if (m < mo || (m === mo && d <= da)) return idx;
  }
  return 9; // Capricorn
}

function analyzeBD() {
  const d1 = document.getElementById('bd1').value;
  const d2 = document.getElementById('bd2').value;
  if (!d1 || !d2) return;

  const date1 = new Date(d1), date2 = new Date(d2);
  const m1 = date1.getMonth()+1, day1 = date1.getDate();
  const m2 = date2.getMonth()+1, day2 = date2.getDate();
  const z1 = getZodiac(m1, day1), z2 = getZodiac(m2, day2);
  const signs = t('signs');

  // Day difference in year
  const doy1 = Math.floor((new Date(2000, m1-1, day1) - new Date(2000,0,1))/(86400000));
  const doy2 = Math.floor((new Date(2000, m2-1, day2) - new Date(2000,0,1))/(86400000));
  let dayDiff = Math.abs(doy1 - doy2);
  if (dayDiff > 182) dayDiff = 365 - dayDiff;

  // Score based on day difference + zodiac element compatibility
  const elements = ['Fire','Earth','Air','Water'];
  const elCompat = {'Fire+Fire':80,'Fire+Air':90,'Fire+Earth':60,'Fire+Water':55,
    'Earth+Earth':85,'Earth+Air':65,'Earth+Water':92,'Air+Air':78,'Air+Water':62,'Water+Water':88};
  const e1 = elements[z1 % 4], e2 = elements[z2 % 4];
  // Actually use proper element mapping
  const elMap = [0,1,2,3,0,1,2,3,0,1,2,3]; // Ari=Fire,Tau=Earth,Gem=Air,Can=Water...
  const el1 = elements[elMap[z1]], el2 = elements[elMap[z2]];
  const key1 = el1+'+'+el2, key2 = el2+'+'+el1;
  const elScore = elCompat[key1] || elCompat[key2] || 70;

  // Day diff score: 0 days apart = 70, 90 days = 95, 180 days = 75
  const dayScore = dayDiff <= 90 ? 70 + (dayDiff/90)*25 : 95 - ((dayDiff-90)/90)*20;
  const score = Math.round((elScore * 0.6 + dayScore * 0.4));

  const ageDiff = Math.abs(date1.getFullYear() - date2.getFullYear());
  const hearts = 'ğŸ’•'.repeat(Math.ceil(score/20));

  const insights = {
    en: [
      `Your ${dayDiff}-day birthday gap creates a ${dayDiff < 60 ? 'familiar' : dayDiff < 120 ? 'complementary' : 'dynamic'} energy between you.`,
      `${signs[z1]} meets ${signs[z2]} â€” ${el1} and ${el2} elements ${el1===el2?'resonate deeply':'create an interesting dynamic'}.`,
      ageDiff > 0 ? `The ${ageDiff}-year age difference adds ${ageDiff <= 3 ? 'a peer-like understanding' : 'depth and perspective'} to your bond.` : `Being born in the same year gives you a shared generational wavelength.`
    ],
    zh: [
      `ä½ ä»¬${dayDiff}å¤©çš„ç”Ÿæ—¥å·®è·åˆ›é€ äº†${dayDiff < 60 ? 'ç†Ÿæ‚‰çš„' : dayDiff < 120 ? 'äº’è¡¥çš„' : 'åŠ¨æ€çš„'}èƒ½é‡ã€‚`,
      `${signs[z1]}é‡è§${signs[z2]}â€”â€”${el1}å’Œ${el2}å…ƒç´ ${el1===el2?'æ·±æ·±å…±é¸£':'åˆ›é€ äº†æœ‰è¶£çš„äº’åŠ¨'}ã€‚`,
      ageDiff > 0 ? `${ageDiff}å¹´çš„å¹´é¾„å·®ä¸ºä½ ä»¬çš„å…³ç³»å¢æ·»äº†${ageDiff <= 3 ? 'åŒé¾„äººèˆ¬çš„ç†è§£' : 'æ·±åº¦å’Œè§†è§’'}ã€‚` : `åŒå¹´å‡ºç”Ÿè®©ä½ ä»¬æ‹¥æœ‰å…±åŒçš„ä¸–ä»£é¢‘ç‡ã€‚`
    ],
    ja: [
      `${dayDiff}æ—¥ã®èª•ç”Ÿæ—¥ã®å·®ãŒ${dayDiff < 60 ? 'è¦ªã—ã¿ã‚„ã™ã„' : dayDiff < 120 ? 'è£œå®Œçš„ãª' : 'ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãª'}ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ç”Ÿã¿ã¾ã™ã€‚`,
      `${signs[z1]}ã¨${signs[z2]}ã®å‡ºä¼šã„â€”â€”${el1}ã¨${el2}ã®è¦ç´ ãŒ${el1===el2?'æ·±ãå…±é³´':'é¢ç™½ã„åŒ–å­¦åå¿œã‚’èµ·ã“'}ã—ã¾ã™ã€‚`,
      ageDiff > 0 ? `${ageDiff}å¹´ã®å¹´ã®å·®ãŒçµ†ã«${ageDiff <= 3 ? 'åŒä¸–ä»£ã®ç†è§£' : 'æ·±ã¿ã¨è¦–ç‚¹'}ã‚’åŠ ãˆã¾ã™ã€‚` : `åŒã˜å¹´ã«ç”Ÿã¾ã‚ŒãŸã“ã¨ã§ä¸–ä»£çš„ãªæ³¢é•·ãŒåˆã„ã¾ã™ã€‚`
    ],
    ko: [
      `${dayDiff}ì¼ì˜ ìƒì¼ ì°¨ì´ê°€ ${dayDiff < 60 ? 'ì¹œìˆ™í•œ' : dayDiff < 120 ? 'ë³´ì™„ì ì¸' : 'ì—­ë™ì ì¸'} ì—ë„ˆì§€ë¥¼ ë§Œë“­ë‹ˆë‹¤.`,
      `${signs[z1]}ì´ ${signs[z2]}ë¥¼ ë§Œë‚¨ â€” ${el1}ê³¼ ${el2} ì›ì†Œê°€ ${el1===el2?'ê¹Šì´ ê³µëª…':'í¥ë¯¸ë¡œìš´ ì—­í•™ì„ ë§Œë“­'}ë‹ˆë‹¤.`,
      ageDiff > 0 ? `${ageDiff}ë…„ì˜ ë‚˜ì´ ì°¨ì´ê°€ ${ageDiff <= 3 ? 'ë™ë£Œ ê°™ì€ ì´í•´' : 'ê¹Šì´ì™€ ê´€ì '}ì„ ë”í•©ë‹ˆë‹¤.` : `ê°™ì€ í•´ì— íƒœì–´ë‚˜ ì„¸ëŒ€ì  íŒŒì¥ì„ ê³µìœ í•©ë‹ˆë‹¤.`
    ]
  };
  const ins = insights[currentLang] || insights.en;

  const r = document.getElementById('result');
  r.className = 'result show';
  r.innerHTML = `
    <h3>${signs[z1]} ğŸ‚ ${signs[z2]}</h3>
    <div class="score">${score}%</div>
    <p>${hearts}</p>
    ${ins.map(i => `<p class="detail">${i}</p>`).join('')}
    <button class="copy-btn" onclick="copyResult('${signs[z1]} ğŸ‚ ${signs[z2]}: ${score}% - LoveMatch ğŸ’•')" data-i18n="shareResult">${t('shareResult')}</button>
    <button class="share-btn" onclick="shareToX('${signs[z1]} ğŸ‚ ${signs[z2]}: ${score}%')" data-i18n="shareTwitter">${t('shareTwitter')}</button>
  `;
}
</script>
<div class="tip-jar" style="text-align:center;margin:2rem auto;padding:1.5rem;background:#f8f9fa;border-radius:12px;max-width:480px">
      <h3>â˜• Support Us</h3>
      <p>If you find this useful, consider a small tip!</p>
      <div style="margin:0.5rem 0"><span style="margin:0 4px;padding:2px 8px;background:#e3e8ef;border-radius:4px;font-size:0.85rem">ETH</span><span style="margin:0 4px;padding:2px 8px;background:#e3e8ef;border-radius:4px;font-size:0.85rem">USDC</span><span style="margin:0 4px;padding:2px 8px;background:#e3e8ef;border-radius:4px;font-size:0.85rem">BSC</span><span style="margin:0 4px;padding:2px 8px;background:#e3e8ef;border-radius:4px;font-size:0.85rem">Polygon</span></div>
      <div style="word-break:break-all;background:#fff;padding:0.75rem;border-radius:8px;font-family:monospace;font-size:0.8rem;cursor:pointer;border:1px solid #ddd" onclick="navigator.clipboard.writeText('0xEeD903787Cb86bcCc17777E5C7d10A4c2De43823').then(()=>this.textContent='âœ“ Copied!')">0xEeD903787Cb86bcCc17777E5C7d10A4c2De43823</div>
    </div>
</body>
</html>
